(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{120:function(e,t,n){},122:function(e,t,n){},123:function(e,t,n){},124:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},233:function(e,t,n){},235:function(e,t,n){},236:function(e,t,n){},237:function(e,t,n){},238:function(e,t,n){},239:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(41),s=n.n(r),i=(n(97),n(10)),c=n.n(i),l=n(17),o=n(6),u=n(2),d=n(8),j=n(7),b=n.n(j),m=n(3),h="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAeFBMVEX///8AAAA3NzfZ2dlhYWGlpaXc3Nyzs7MxMTGpqalwcHDz8/P7+/tKSkr39/ewsLDo6OhpaWnr6+uMjIx7e3tCQkKfn5/i4uJaWlp1dXUrKysVFRWPj4+CgoJUVFS5ubnHx8cNDQ0jIyM7OzscHBzR0dHCwsKXl5ezXEyzAAAEQ0lEQVR4nO3d6XaiQBCG4W5QRsUNxeCSGIkx3v8djmBiiDRIA5OqYr73Lycn9RzZFEGlfi1/fhputrvJcubOp7/3b38ttx/s9FfbzdCjHqjl3MDRP3MCl3qoFlsstamXiHqwtpqtjECtB0/Uo7XTrMCXtKQeroXGzyVArdfy19SXUqDWkzn1hA0rW0WvBbKPjYf3h0IdjqmnbJC/fwzUWvIe9dFG+Jnc8xu/GlDvxa6n5lOZfPEr9aQ1mxedy+Tq+dSz1uupKlDrGfWstfJ71YUD6mFrFb1VF2qRq+nBAijzmFh1T5rWo562Tvfv6ktzJB71bYB6J/GQaCUUebywE/apx7Wv6knpZy/yzk3ndsJA3hHRUjiSJ7TcDkOBH2ZU+AAjk8DtUE2shBI/OQ2thGfqcWv0aiWUeMSPdo9dt7Yn6nFrNLVZTfcCd6VKDS2EG+pha3XaVhcKPC1NslhNqUet2aIy8Jl61LpVfRFjie/w0xaDjr+EVXenA7Ev4aVRFeEf6ikbVeHaRUg9Y7O8hx8q7gW+9/3R6cGH+6I3wmvT0hV1JfCdb65Fye6mt6CerpWm/SLgWeRbClP+i2FrjAP5X4jKdArvdqq74KMLm2Cm8fyQuSg8mEXSDxLmfPdjeJ6durF76WzRORzVL3zi/lXFw7Hs6F6pCedP3fxzY19Sn+1Bcmz13YSS2H4xw+I7UA9i+gG45UXf0nieC7SzEV4bUmNM+XZX08pj+QWi17jrQpurFDKFhe8BIYSQTRBCCCF9EEIIIX3/l3ASBEGlq7+3duvLn6zlCNNbC6yEx+QSRiRHmF6YtxI6yTMkPAhpgxBCBSF5EEKoICQPQggVhORBCKGCkDwIIVQQkgchhApC8iCEUEFIHoQQKgjJgxBCBSF5EEKoICQPQggVhORBCKGCkDwIIVQQkgchhApC8iCEUEFIHoQQKgjJg1C+MPvbxt0UupknzHdTmP2ZgMZCnr8c5LYoZPqA4e9HIjQVjoglRX0/da+hcM32EcPR1w+NNxP2GD+H1g9aEG7YvoJp0XK/cpzCJ3/ER8c5mn5K4Cp8W62f+T8nejz3vPRVMAkHkedFz0XCsTvn+eDSgowrY7LA9AzJVCgt42uYLIBQTBBCyD8IIeQfhBDyD0II+QchhPyDEEL+QQgh/yCEkH8QQsg/CCHkH4QQ8g9CCPkHIYT8gxBC/kEIIf8ghJB/EELIPwgh5F/3hbEJkiwwCY8e9bg12hogk2TBzLBgxfiOvML2Bkh6c+irYcF+Sj1ujZ4MkPS2vexd319tqKetk5t3xOkdzON1fsmMeto6+XnI6Hp76DkvFHXf4a3c9rb7+FySA/K8//5h0+DOEX4t6d8tOErckyYt7iC3/eW9/Q/llI3ynAxjkrmH2R91A6hU9C0Jf6yJ/vdTNByR+9Fb04/1+0Xx3jvc7S3HhyC+LIjfzv94G/wLXAJUvGunoQMAAAAASUVORK5CYII=",p=n(4),g=n(22),O=Object(g.b)({name:"auth",initialState:{LoggedIn:!1,admin:!1,role:"",fullName:"",demo:!0,token:"",users:[],clients:[],email:"",user:{}},reducers:{signIn:function(e,t){var n=t.payload,a=n.fullName,r=n.admin,s=n.role,i=n.demo,c=n.token,l=n.login,o=n.email,u=n.user;e.fullName=a,e.LoggedIn=l,e.admin=r,e.role=s,e.demo=i,e.token=c,e.email=o,e.user=u},signOut:function(e){e.LoggedIn=!1,e.admin=!1,e.fullName="",localStorage.setItem("token",""),localStorage.setItem("admin",""),localStorage.setItem("name","")},getAllUsers:function(e,t){return Object(u.a)(Object(u.a)({},e),{},{users:Object(p.a)(t.payload.users),clients:Object(p.a)(t.payload.clients)})}}}),f=O.reducer,x=O.actions,k=x.signIn,v=x.signOut,y=x.getAllUsers,C=function(e){void 0!==e&&(this._id=e._id,this.name=e.name,this.details=e.details,this.steps=e.steps,this.version=e.version,this.type=e.type,this.priority=e.priority,this.assigned=e.assigned,this.creator=e.creator,this.time=e.time)};function N(){var e=[];return e.push(new C({_id:0,name:"Crash on load",details:"crashes after 3 seconds",steps:"Open app and it crashes",version:"V2.0",type:1,assigned:"Arif Ash",creator:"JOe Bloggs",priority:1,time:"23:38"})),e.push(new C({_id:1,name:" Wont load",details:"crashes after 3 seconds",steps:"Open app and it crashes",version:"V2.0",type:4,assigned:"Joe Mama",creator:"JOe Bloggs",priority:3,time:"23:38"})),e.push(new C({_id:2,name:" Test data",details:" suspect data",steps:"Open app and it crashes",version:"V2.0",type:3,assigned:"Mr test",creator:"Arif Ash",priority:2,time:"22:00"})),e.push(new C({_id:3,name:" Bug tracker",details:" Not trackin g bugs",steps:"Bugs never tracked",version:"V2.0",type:2,assigned:"Mr test",creator:"Arif Ash",priority:2,time:"22:00"})),e.push(new C({_id:4,name:" Sorting visualizer",details:" Can not see merge sort",steps:"merge sort not dispalyed on screen",version:"V2.0",type:1,assigned:"Mr test",creator:"Arif Ash",priority:2,time:"22:00"})),e.push(new C({_id:5,name:" Pathfinder Visualizer",details:"Can not add nodes to grid",steps:"Click on empty grid but nothing happens",version:"V2.0",type:1,assigned:"Mr test",creator:"Arif Ash",priority:3,time:"22:00"})),e.push(new C({_id:6,name:" Sudoku Game and Solver",details:"Can not add nodes to grid",steps:"Click on empty grid but nothing happens",version:"V2.0",type:3,assigned:"Mr test",creator:"Arif Ash",priority:4,time:"22:00"})),e}var w=Object(g.b)({name:"bugs",initialState:{filteredBugs:[],bug:[],currBugToken:""},reducers:{setBugToken:function(e,t){e.currBugToken=t.payload},setBugsDemo:function(e){return Object(u.a)(Object(u.a)({},e),{},{bug:Object(p.a)(N())})},setBugs:function(e,t){return Object(u.a)(Object(u.a)({},e),{},{bug:Object(p.a)(t.payload.bugs)})},removeBug:function(e,t){var n=t.payload._id;return Object(u.a)(Object(u.a)({},e),{},{bug:Object(p.a)(e.bug.slice(0,n))})},getNewId:function(e,t){return Object(u.a)(Object(u.a)({},e),{},{bug:[].concat(Object(p.a)(e.bug),Object(p.a)(t.payload))})},filter:function(e,t){return Object(u.a)(Object(u.a)({},e),{},{filteredBugs:Object(p.a)(t.payload)})},createBugs:function(e,t){return Object(u.a)(Object(u.a)({},e),{},{bug:[].concat(Object(p.a)(e.bug),Object(p.a)(t.payload))})},updateBug:function(e,t){var n=t.payload._id;return Object(u.a)(Object(u.a)({},e),{},{bug:[].concat(Object(p.a)(e.bug.slice(0,n)),[t.payload],Object(p.a)(e.bug.slice(n+1)))})},markComplete:function(e,t){var n=t.payload._id;return t.payload.priority=4,Object(u.a)(Object(u.a)({},e),{},{bug:[].concat(Object(p.a)(e.bug.slice(0,n)),[t.payload],Object(p.a)(e.bug.slice(n+1)))})}}}),A=w.reducer,B=w.actions,S=B.setBugToken,I=B.setBugs,E=B.setBugsDemo,D=B.removeBug,F=B.filter,U=B.createBugs,P=B.updateBug,R=B.markComplete,L=B.getNewId,q=(n(120),n(0)),Q=function(){var e=Object(m.b)(),t=Object(a.useState)(!0),n=Object(d.a)(t,2),r=n[0],s=n[1],i=Object(a.useState)({admin:!1,name:"",password:""}),j=Object(d.a)(i,2),p=j[0],g=j[1];function O(e){g(Object(u.a)(Object(u.a)({},p),{},Object(o.a)({},e.target.name,e.target.value)))}function f(){return(f=Object(l.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a={email:p.name,password:p.password},t.next=4,b.a.post("https://bug-tracker-arif.herokuapp.com/signIn",a).then((function(t){var n=t.data;if(!0===n.success){var a="";a="Admin"===n.user.role,e(k({fullName:n.user.fullName,user:n.user,admin:a,token:n.token,email:n.user.email})),localStorage.setItem("token",n.token),localStorage.setItem("user",n.user),localStorage.setItem("email",n.user.email),localStorage.setItem("admin",JSON.stringify(a)),localStorage.setItem("name",n.user.fullName),b.a.get("https://bug-tracker-arif.herokuapp.com/verify?token="+n.token).then((function(e){console.log(e)})),window.location.reload()}else alert(t.data.message)}));case 4:return t.abrupt("return",!1);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(){s(!r)}return Object(q.jsxs)("div",{className:"loginBG",children:[r&&Object(q.jsxs)("form",{className:"login-panel",children:[Object(q.jsx)("h1",{children:"Bug Tracker"}),Object(q.jsx)("input",{label:!0,name:"name",placeholder:"Email",onChange:O,value:p.name}),Object(q.jsx)("br",{}),Object(q.jsx)("input",{name:"password",type:"password",placeholder:"Password",onChange:O,value:p.password}),Object(q.jsx)("br",{}),Object(q.jsx)("button",{type:"submit",onClick:function(e){return f.apply(this,arguments)},children:"Login"}),Object(q.jsxs)("p",{children:["Sign in as a ",Object(q.jsx)("a",{href:"#",onClick:x,children:" Demo User"})]})]}),!r&&Object(q.jsxs)("form",{className:"login-panel",children:[Object(q.jsx)("h1",{children:"Demo Users"}),Object(q.jsx)("input",{label:!0,name:"name",placeholder:"Enter name",required:!0,onChange:O,value:p.name}),Object(q.jsx)("br",{}),Object(q.jsxs)("div",{className:"DemoUsers",children:[Object(q.jsxs)("div",{className:"demo",style:{borderRight:"1px groove black"},onClick:function(t){t.preventDefault(),p.name?(e(E()),e(k({fullName:p.name,admin:!0,demo:!0,login:!0}))):alert("Name cannot be blank")},children:[Object(q.jsx)("img",{style:{width:"30%",height:"50%"},src:h,name:"saveForm",alt:"cannot display"}),Object(q.jsx)("h3",{children:"Demo Admin"})]}),Object(q.jsxs)("div",{className:"demo",onClick:function(t){t.preventDefault(),p.name?(e(E()),e(k({fullName:p.name,admin:!1,demo:!0,login:!0}))):alert("Name cannot be blank")},children:[Object(q.jsx)("img",{style:{width:"30%",height:"50%"},src:h,name:"saveForm",alt:"cannot display"}),Object(q.jsx)("h3",{children:"Demo Client"})]})]}),Object(q.jsxs)("p",{children:["Back to ",Object(q.jsx)("a",{href:"#",onClick:x,children:" Login Page"})]})]})]})},T=(n(122),function(e){var t=e.bug,n=t.name,a=t.priority,r=t.type,s=Object(m.b)(),i=function(e,t){var n=e-1;return{level:["High","Medium","Low","Complete"][n],color:["#a30000","#ff0606","#FFA500","#00FF00"][n],ticket:["Bug/Error","Feature Request","Other Comments","Training/Document Request"][t-1]}}(a,r),c=i.level,l=i.color,o=i.ticket;return Object(q.jsx)("div",{className:"container",children:Object(q.jsxs)("div",{className:"bug-card",onClick:function(){var t=e.bug._id;s(S(t)),e.clicked(e.name)},children:[Object(q.jsx)("h2",{className:"name",style:{backgroundColor:"#FFFFFF",color:l},children:c}),Object(q.jsxs)("h2",{className:"priority",children:[" ",n]}),Object(q.jsx)("h4",{className:"type",children:o})]})})}),V=(n(123),function(e){return Object(q.jsxs)("div",{className:"view-section",children:[Object(q.jsx)("h2",{children:e.title}),Object(q.jsx)("p",{children:e.info})]})}),z=(n(124),n(125),function(e){return Object(q.jsxs)("div",{className:"edit-panel",children:[Object(q.jsx)("button",{className:"delete",onClick:e.deleteClicked,children:"Delete"}),Object(q.jsx)("button",{className:"edit",onClick:e.editClicked,children:"Edit"})]})}),M=(n(126),function(e){var t=Object(a.useState)(new C(e.bug)),n=Object(d.a)(t,2),r=n[0],s=n[1],i=Object(m.c)((function(e){return e})),j=i.auth,h=i.bugs,p=Object(m.b)(),g=Object(a.useState)({isClicked:!1,display:!1}),O=Object(d.a)(g,2),f=O[0],x=O[1];function k(e){x({isClicked:!1,display:!1}),s(Object(u.a)(Object(u.a)({},r),{},Object(o.a)({},e.target.name,e.target.value)))}function v(){return(v=Object(l.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),r.priority>3&&(r.priority=1),r.name&&r.steps&&r.version&&r.details){t.next=6;break}x({isClicked:!0,display:!1}),t.next=33;break;case 6:if(s(Object(u.a)(Object(u.a)({},r),{},{creator:j.fullName})),"Edit Bug"!==e.title||!j.demo){t.next=12;break}p(P(r)),alert("Ticket updated"),t.next=33;break;case 12:if("Edit Bug"!==e.title||j.demo){t.next=21;break}return a=j.clients.map((function(e){return e.fullName})),1!==parseInt(r.assigned)&&a.includes(r.assigned)||(console.log("here"),r.assigned=j.clients[0].fullName),t.next=17,b.a.post("https://bug-tracker-arif.herokuapp.com/update?token="+h.currBugToken,r).then((function(e){alert(e.data.message)}));case 17:return window.location.reload(),t.abrupt("return",!1);case 21:if("Create Bug"!==e.title||j.demo){t.next=31;break}return 1===parseInt(r.assigned)&&(r.assigned=j.clients[0].fullName),console.log(r.assigned),x({isClicked:!0,display:!0}),t.next=27,b.a.post("https://bug-tracker-arif.herokuapp.com/createBug",r).then((function(e){var t=e.data;console.log(t)}));case 27:return window.location="/viewbugs",t.abrupt("return",!1);case 31:x({isClicked:!0,display:!0}),p(U([r]));case 33:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(q.jsx)("div",{className:"page-container",children:Object(q.jsxs)("div",{className:"bug-create",children:["Edit Bug"===e.title&&Object(q.jsx)("button",{onClick:e.close,className:"close-btn","aria-label":"Close alert",children:Object(q.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),Object(q.jsx)("h1",{children:e.title}),Object(q.jsxs)("form",{children:[Object(q.jsx)("label",{children:"Name:"}),Object(q.jsx)("input",{name:"name",placeholder:"Bug Name",required:!0,onChange:k,value:r.name}),Object(q.jsx)("label",{children:"Details:"}),Object(q.jsx)("textarea",{name:"details",placeholder:"Detailed description on the bug",required:!0,onChange:k,value:r.details}),Object(q.jsx)("label",{children:"Steps:"}),Object(q.jsx)("textarea",{name:"steps",placeholder:"Steps to recreate the bug",required:!0,onChange:k,value:r.steps}),Object(q.jsx)("label",{children:"Priority:"}),Object(q.jsxs)("select",{name:"priority",required:!0,onChange:k,value:r.priority,children:[Object(q.jsx)("option",{value:"1",children:"High"}),Object(q.jsx)("option",{value:"2",children:"Medium"}),Object(q.jsx)("option",{value:"3",children:"Low"})]}),Object(q.jsx)("label",{children:"Type:"}),Object(q.jsxs)("select",{name:"type",required:!0,onChange:k,value:r.type,children:[Object(q.jsx)("option",{value:"1",children:"Bugs/Error"}),Object(q.jsx)("option",{value:"2",children:"Feature Requests"}),Object(q.jsx)("option",{value:"3",children:"Other Comments"}),Object(q.jsx)("option",{value:"4",children:"Training/Document Requests"})]}),Object(q.jsx)("label",{children:"Assigned:"}),Object(q.jsx)("select",{name:"assigned",required:!0,onChange:k,value:r.assigned,children:!j.demo&&j.clients.map((function(e){return Object(q.jsx)("option",{children:e.fullName})}))}),Object(q.jsx)("label",{children:"Application Version:"}),Object(q.jsx)("input",{name:"version",placeholder:"Application Version",onChange:k,value:r.version}),Object(q.jsx)("button",{type:"submit",onClick:function(e){return v.apply(this,arguments)},children:e.title})]}),f.isClicked&&f.display&&alert("Ticket Created")&&x({isClicked:!1,display:!1}),f.isClicked&&!f.display&&alert("Please fill in all fields")&&x({isClicked:!1,display:!1})]})})}),J=function(e){var t=Object(m.b)(),n=Object(m.c)((function(e){return e})),r=n.auth,s=n.bugs,i=new C(e.bug),c=Object(a.useState)(!1),l=Object(d.a)(c,2),o=l[0],u=l[1];return Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)("div",{className:"bug-view",children:[o&&Object(q.jsx)(M,{title:"Edit Bug",bug:i,close:e.clicked}),!o&&Object(q.jsxs)(q.Fragment,{children:[r.admin&&Object(q.jsx)(z,{editClicked:function(){u(!o)},deleteClicked:function(){if(r.demo){for(var e=i._id+1,n=[];e<s.bug.length;){var a=Object.assign({},s.bug[e]);a._id=e-1,n.push(a),e++}return t(D(i)),void t(L(n))}b.a.post("https://bug-tracker-arif.herokuapp.com/delete?token="+s.currBugToken).then((function(e){alert(e.data.message)})),window.location.reload()}}),Object(q.jsx)("button",{onClick:e.clicked,className:"close-btn","aria-label":"Close alert",children:Object(q.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),Object(q.jsx)("h1",{children:i.name}),Object(q.jsx)(V,{title:"Details",info:i.details}),Object(q.jsx)(V,{title:"Steps",info:i.steps}),Object(q.jsx)(V,{title:"Priority",info:["High","Medium","Low","Completed"][i.priority-1]}),Object(q.jsx)(V,{title:"Creator",info:i.creator}),Object(q.jsx)(V,{title:"App Version",info:i.version}),Object(q.jsx)(V,{title:"Bug type",info:["Bugs/Error","Feature Requests","Other Comments","Training/Document Requests"][i.type-1]}),Object(q.jsx)(V,{title:"Time Created",info:i.time}),4!==parseInt(i.priority)&&Object(q.jsx)("button",{className:"markComplete",onClick:function(){r.demo?t(R(i)):(i.priority=4,b.a.post("https://bug-tracker-arif.herokuapp.com/update?token="+s.currBugToken,i).then((function(e){alert(e.data.message)})),window.location.reload())},children:"Mark Complete \u2714"})]})]})})},H=(n(127),function(){var e=Object(m.c)((function(e){return e})).bugs,t=Object(m.b)();function n(e){l({priority:e})}function r(e){l({isDisplayed:!c.isDisplayed,name:e,priority:c.priority,searched:c.searched})}var s=Object(a.useState)({name:"",isDisplayed:!1,search:!1,priority:0}),i=Object(d.a)(s,2),c=i[0],l=i[1];return window.onclick=function(e){if(!e.target.matches(".dropbtn")){var t,n=document.getElementsByClassName("dropdown-content");for(t=0;t<n.length;t++){var a=n[t];a.classList.contains("show")&&a.classList.remove("show")}}},Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)("div",{className:"Search",children:[Object(q.jsx)("input",{type:"text",id:"search",onClick:function(){document.getElementById("search").addEventListener("keyup",(function(n){var a=n.target.value,r=e.bug.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())}));t(F(r)),l({searched:!0,priority:c.priority,name:c.name,isDisplayed:c.isDisplayed})}))},placeholder:"Search tickets.."}),Object(q.jsxs)("div",{className:"dropdown",children:[Object(q.jsx)("button",{onClick:function(){document.getElementById("myDropdown").classList.toggle("show")},className:"dropbtn",children:"Filter"}),Object(q.jsxs)("div",{id:"myDropdown",class:"dropdown-content",children:[Object(q.jsx)("a",{onClick:function(){return n(0)},children:"Remove filter"}),Object(q.jsx)("a",{onClick:function(){return n(1)},children:"High"}),Object(q.jsx)("a",{onClick:function(){return n(2)},children:"Medium"}),Object(q.jsx)("a",{onClick:function(){return n(3)},children:"Low"}),Object(q.jsx)("a",{onClick:function(){return n(4)},children:"Completed"})]})]})]}),Object(q.jsxs)("div",{className:"page-container",style:{width:"78%"},children:[0!==e.filteredBugs.length||c.searched?e.filteredBugs.map((function(e,t){return(0===c.priority||c.priority===Number(e.priority))&&Object(q.jsx)(T,{bug:e,clicked:function(){return r(e.name)}},t)})):e.bug.map((function(e,t){return(0===c.priority||c.priority===Number(e.priority))&&Object(q.jsx)(T,{bug:e,clicked:function(){return r(e.name)}},t)})),c.isDisplayed&&Object(q.jsx)(J,{style:{marginTop:"10%"},clicked:r,bug:e.bug.filter((function(e){return e.name==c.name}))[0]})]})]})}),X=n(20),_=n(9),G=n(43),K=function(){var e=Object(m.c)((function(e){return e})).bugs,t=0,n=0,a=0,r=0;function s(t){return e.bug.filter((function(e){return e.priority===t}))}void 0!==e.bug&&(t=s(1).length+s("1").length,n=s(2).length+s("2").length,a=s(3).length+s("3").length,r=s(4).length+s("4").length);var i={labels:["High","Medium","Low","Completed"],datasets:[{data:[t,n,a,r],backgroundColor:["#410000","#a30000","#ff0606","#00FF00"],borderColor:"rgba(75,192,192,1)"}]};return Object(q.jsx)("div",{style:{backgroundColor:"#b5b3b1"},children:Object(q.jsx)(G.a,{data:i,height:350,width:520,options:{maintainAspectRatio:!1,plugins:{title:{display:!0,fontSize:50,position:"top"},legend:{display:!1}}}})})},W=function(){var e=Object(m.c)((function(e){return e})).bugs,t=0,n=0,a=0,r=0;function s(t){return e.bug.filter((function(e){return e.type===t}))}void 0!==e.bug&&(t=s(1).length+s("1").length,n=s(2).length+s("2").length,a=s(3).length+s("3").length,r=s(4).length+s("4").length);var i={labels:["Bug/Error","Feature Request","Other Comments","Training/Document Request"],datasets:[{label:"Priority",data:[t,n,a,r],backgroundColor:["#b33a3a","#FFA500","#32cd32","#04009A"]}]};return Object(q.jsx)("div",{style:{backgroundColor:"#b5b3b1"},children:Object(q.jsx)(G.b,{data:i,height:350,width:520,options:{maintainAspectRatio:!1,plugins:{title:{display:"true",position:"top",fontSize:60},legend:{display:!0,position:"bottom"}}}})})},Y=(n(233),function(){var e=Object(_.f)();function t(){e.push("/viewbugs")}return Object(q.jsxs)("div",{className:"dash-container",children:[Object(q.jsxs)("div",{className:"chart",onClick:t,children:[Object(q.jsx)(K,{onClick:t}),Object(q.jsx)("h3",{children:"Tickets by Priority"})]}),Object(q.jsxs)("div",{className:"chart",onClick:t,children:[Object(q.jsx)(W,{onClick:t}),Object(q.jsx)("h3",{children:"Tickets by type"})]})]})}),Z=(n(235),function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e})).auth;return Object(q.jsxs)("div",{className:"sidebar",children:[Object(q.jsxs)(X.b,{className:"nav-link",to:"/",children:[Object(q.jsx)("h1",{style:{marginBottom:"0"},className:"brand",children:"Welcome "})," "]}),Object(q.jsx)("h1",{className:"userName",children:t.fullName}),Object(q.jsxs)("ul",{children:[Object(q.jsx)(X.b,{to:"/",className:"nav-link",children:Object(q.jsx)("li",{children:"Dashboard"})}),Object(q.jsx)(X.b,{to:"/viewbugs",className:"nav-link",children:Object(q.jsx)("li",{children:"View Bugs"})}),t.admin&&Object(q.jsx)(X.b,{to:"/create",className:"nav-link",children:Object(q.jsx)("li",{children:"Create Bugs"})}),t.admin&&Object(q.jsx)(X.b,{to:"/manageUsers",className:"nav-link",children:Object(q.jsx)("li",{children:"Manage Users"})})]}),Object(q.jsx)("button",{className:"nav-link logout",onClick:function(){t.demo?e(v()):b.a.get("https://bug-tracker-arif.herokuapp.com/logout?token="+t.token).then((function(t){var n=t.data;console.log(n),e(v()),localStorage.setItem("token","")}))},children:"Logout"})]})}),$=(n(236),function(){var e,t=Object(m.c)((function(e){return e})).auth,n=Object(a.useState)(!1),r=Object(d.a)(n,2),s=r[0],i=r[1],j=Object(a.useState)(!1),h=Object(d.a)(j,2),p=h[0],g=h[1],O=Object(a.useState)({email:t.email,currPass:"",newPass:""}),f=Object(d.a)(O,2),x=f[0],k=f[1],v=Object(a.useRef)(null);function y(e){k(Object(u.a)(Object(u.a)({},x),{},Object(o.a)({},e.target.name,e.target.value)))}function C(){return(C=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,b.a.post("https://bug-tracker-arif.herokuapp.com/changePassword",x).then((function(e){if(alert(e.data.message),e.data.success)return window.location.reload(),!1}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return e=v,Object(a.useEffect)((function(){function t(t){e.current&&!e.current.contains(t.target)&&(i(!1),g(!1))}return document.addEventListener("mousedown",t),function(){document.removeEventListener("mousedown",t)}}),[e]),Object(q.jsxs)("div",{ref:v,children:[Object(q.jsxs)("div",{className:"topbar",children:[t.admin&&t.demo&&Object(q.jsx)("h3",{children:"Logged in as: Demo Admin"}),!t.admin&&t.demo&&Object(q.jsx)("h3",{children:"Logged in as: Demo Client"}),t.admin&&!t.demo&&Object(q.jsx)("h3",{children:"Logged in as: Admin"}),!t.admin&&!t.demo&&Object(q.jsx)("h3",{children:"Logged in as: Client"}),Object(q.jsx)("button",{onClick:function(){i(!s),g(!1)},children:"User Profile"})]}),s&&!p&&Object(q.jsx)("div",{className:"menu",children:Object(q.jsx)("a",{onClick:function(e){t.demo?alert("Cannot edit demo profile"):g(!0)},children:"Change Password"})}),p&&s&&Object(q.jsx)("div",{children:Object(q.jsxs)("form",{className:"changePassword",children:[Object(q.jsx)("input",{type:"password",name:"currPass",placeholder:"Current Password",required:!0,onChange:y,value:x.currPass}),Object(q.jsx)("input",{type:"password",name:"newPass",placeholder:"New Password",required:!0,onChange:y,value:x.newPass}),Object(q.jsx)("button",{type:"submit",onClick:function(e){return C.apply(this,arguments)},children:"Change Password"})]})})]})}),ee=function(e){void 0!==e&&(this.fullName=e.fullName,this.userName=e.userName,this.password=e.password,this.email=e.email,this.role=e.role)};n(237),n(238);var te=function(e){var t=Object(a.useState)({_id:"",fullName:"",userName:"",email:"",role:"Admin"}),n=Object(d.a)(t,2),r=n[0],s=n[1],i=Object(m.c)((function(e){return e})).auth,o=Object(a.useState)({display:!1}),u=Object(d.a)(o,2),j=u[0],h=u[1];function p(){return(p=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("https://bug-tracker-arif.herokuapp.com/deleteUser?token="+t._id).then((function(e){alert(e.data.message)})).catch((function(e){return console.log(e)}));case 2:return window.location.reload(),e.abrupt("return",!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(q.jsx)("div",{children:j.display?Object(q.jsx)(ne,{close:function(){h({display:!1})},user:r}):Object(q.jsxs)("div",{className:"table",children:[Object(q.jsx)("h1",{style:{textAlign:"center"},children:"All Users"}),Object(q.jsxs)("table",{id:"table",children:[Object(q.jsx)("thead",{children:Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{children:"No"}),Object(q.jsx)("th",{children:"Fullname"}),Object(q.jsx)("th",{children:"Username"}),Object(q.jsx)("th",{children:"Email"}),Object(q.jsx)("th",{children:"Role"}),Object(q.jsx)("th",{children:"Actions"})]})}),Object(q.jsx)("tbody",{children:i.users.map((function(e,t){return Object(q.jsxs)("tr",{className:"userData",children:[Object(q.jsx)("td",{children:t+1}),Object(q.jsx)("td",{children:e.fullName}),Object(q.jsx)("td",{children:e.userName}),Object(q.jsx)("td",{children:e.email}),Object(q.jsx)("td",{children:e.role}),Object(q.jsxs)("td",{children:[Object(q.jsx)("button",{onClick:function(){return function(e){s({_id:e._id,fullName:e.fullName,userName:e.userName,email:e.email,role:"Admin"}),h({display:!0})}(e)},style:{padding:"5px 10px",font:"15px thin"},className:"edit",children:"Edit User"}),i.email!==e.email&&Object(q.jsx)("button",{onClick:function(){return function(e){return p.apply(this,arguments)}(e)},style:{padding:"5px 10px",font:"15px thin"},className:"delete",children:"Delete User"})]})]})}))})]}),Object(q.jsx)("button",{onClick:e.back,children:"\u2b05 Back"})]})})},ne=function(e){var t=Object(a.useState)(new ee(e.user)),n=Object(d.a)(t,2),r=n[0],s=n[1],i=Object(m.c)((function(e){return e})).auth,j=Object(a.useState)(!1),h=Object(d.a)(j,2),p=h[0],g=h[1];function O(e){s(Object(u.a)(Object(u.a)({},r),{},Object(o.a)({},e.target.name,e.target.value)))}function f(){return(f=Object(l.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!i.demo){t.next=4;break}return alert("Cannot create user using demo"),t.abrupt("return",!1);case 4:if(e.user._id){t.next=8;break}return a={fullName:r.fullName,userName:r.userName,email:r.email,password:r.password,role:r.role},t.next=8,b.a.post("https://bug-tracker-arif.herokuapp.com/signUp",a).then((function(e){alert(e.data.message),e.data.success&&window.location.reload()})).catch((function(e){console.log(e)}));case 8:return t.next=10,b.a.post("https://bug-tracker-arif.herokuapp.com/updateUser?token="+e.user._id,r).then((function(e){if(alert(e.data.message),e.data.success)return window.location.reload(),!1})).catch((function(e){console.log(e)}));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(q.jsx)("div",{className:"page-container",children:p?Object(q.jsx)(te,{back:function(e){e.preventDefault(),g(!1)}}):Object(q.jsxs)("div",{className:"bug-create",children:[e.user._id?Object(q.jsx)("h1",{children:"Edit User"}):Object(q.jsx)("h1",{children:"Create New User"}),e.user._id&&Object(q.jsxs)("button",{onClick:e.close,className:"close-btn","aria-label":"Close alert",children:[Object(q.jsx)("span",{"aria-hidden":"true",children:"\xd7"})," "]}),Object(q.jsxs)("form",{children:[Object(q.jsx)("label",{children:"Full Name: "}),Object(q.jsx)("input",{name:"fullName",placeholder:"Full Name",value:r.fullName,required:!0,onChange:O,className:"form-control form-group"}),Object(q.jsx)("label",{children:"Username: "}),Object(q.jsx)("input",{name:"userName",placeholder:"Username",value:r.userName,required:!0,onChange:O,className:"form-control form-group"}),i.email!==e.user.email&&Object(q.jsx)("label",{children:"Email: "}),i.email!==e.user.email&&Object(q.jsx)("input",{name:"email",placeholder:"Email",value:r.email,required:!0,onChange:O,className:"form-control form-group"}),!e.user._id&&Object(q.jsx)("label",{children:"Password: "}),!e.user._id&&Object(q.jsx)("input",{name:"password",type:"password",placeholder:"Password",value:r.password,required:!0,onChange:O,className:"form-control form-group"}),i.email!==e.user.email&&Object(q.jsx)("label",{children:"Role: "}),i.email!==e.user.email&&Object(q.jsxs)("select",{name:"role",value:r.admin,required:!0,onChange:O,children:[Object(q.jsx)("option",{children:"Admin"}),Object(q.jsx)("option",{children:"Client"})]}),Object(q.jsx)("button",{type:"sumbit",className:"",onClick:function(e){return f.apply(this,arguments)},children:e.user._id?"Edit User":"Create New User"})]}),!e.user._id&&Object(q.jsx)("button",{onClick:function(e){if(e.preventDefault(),i.demo)return alert("Cannot manage users using demo"),!1;g(!0)},children:"Manage Users"})]})})};var ae=function(){var e=Object(m.c)((function(e){return e})),t=e.auth,n=e.bugs,r=Object(m.b)(),s=localStorage.getItem("token");Object(a.useEffect)((function(){s&&(r(k({login:!0,admin:JSON.parse(localStorage.getItem("admin")),demo:!1,fullName:localStorage.getItem("name"),token:s,user:localStorage.getItem("user"),email:localStorage.getItem("email")})),JSON.parse(localStorage.getItem("admin"))?b.a.get("https://bug-tracker-arif.herokuapp.com/getBugs").then((function(e){var t=e.data;r(I({bugs:t.bugs}))})):b.a.get("https://bug-tracker-arif.herokuapp.com/getSpecificBugs?name="+localStorage.getItem("name")).then((function(e){var t=e.data;r(I({bugs:t.bugs}))})),b.a.get("https://bug-tracker-arif.herokuapp.com/users").then((function(e){var t=e.data.users,n=t.filter((function(e){return"Client"===e.role}));r(y({users:t,clients:n}))})))}),[]);var i={_id:n.bug.length,priority:1,type:1,assigned:1,creator:t.fullName};return Object(q.jsx)(X.a,{children:t.LoggedIn?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)($,{}),Object(q.jsx)(Z,{}),Object(q.jsx)("div",{className:"Page",children:Object(q.jsxs)(_.c,{children:[Object(q.jsx)(_.a,{path:"/",exact:!0,children:Object(q.jsx)(Y,{})}),Object(q.jsx)(_.a,{path:"/viewbugs",children:Object(q.jsx)(H,{})}),Object(q.jsx)(_.a,{path:"/create",children:Object(q.jsx)("div",{className:"page-container",children:Object(q.jsx)(M,{bug:i,title:"Create Bug"})})}),Object(q.jsx)(_.a,{path:"/manageUsers",children:Object(q.jsx)("div",{className:"page-conatiner",children:Object(q.jsx)(ne,{user:{role:"Admin"}})})})]})})]}):Object(q.jsx)(Q,{})})},re=n(21),se=Object(g.b)({name:"user",initialState:[{}],reducers:{getUser:function(e){e.push({name:"Ryan beasley"}),e.push({name:"John Smith"})}}}),ie=se.reducer,ce=(se.actions.getUser,Object(re.b)({auth:f,bugs:A,user:ie})),le=Object(g.a)({reducer:ce});s.a.render(Object(q.jsx)(m.a,{store:le,children:Object(q.jsx)(ae,{})}),document.getElementById("root"))},97:function(e,t,n){}},[[239,1,2]]]);
//# sourceMappingURL=main.badb6a7e.chunk.js.map