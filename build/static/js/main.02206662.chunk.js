(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{120:function(e,t,n){},122:function(e,t,n){},123:function(e,t,n){},124:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},233:function(e,t,n){},235:function(e,t,n){},236:function(e,t,n){},237:function(e,t,n){},238:function(e,t,n){},239:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(41),i=n.n(r),c=(n(97),n(10)),s=n.n(c),o=n(17),l=n(6),u=n(2),d=n(8),j=n(7),b=n.n(j),h=n(3),m="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAeFBMVEX///8AAAA3NzfZ2dlhYWGlpaXc3Nyzs7MxMTGpqalwcHDz8/P7+/tKSkr39/ewsLDo6OhpaWnr6+uMjIx7e3tCQkKfn5/i4uJaWlp1dXUrKysVFRWPj4+CgoJUVFS5ubnHx8cNDQ0jIyM7OzscHBzR0dHCwsKXl5ezXEyzAAAEQ0lEQVR4nO3d6XaiQBCG4W5QRsUNxeCSGIkx3v8djmBiiDRIA5OqYr73Lycn9RzZFEGlfi1/fhputrvJcubOp7/3b38ttx/s9FfbzdCjHqjl3MDRP3MCl3qoFlsstamXiHqwtpqtjECtB0/Uo7XTrMCXtKQeroXGzyVArdfy19SXUqDWkzn1hA0rW0WvBbKPjYf3h0IdjqmnbJC/fwzUWvIe9dFG+Jnc8xu/GlDvxa6n5lOZfPEr9aQ1mxedy+Tq+dSz1uupKlDrGfWstfJ71YUD6mFrFb1VF2qRq+nBAijzmFh1T5rWo562Tvfv6ktzJB71bYB6J/GQaCUUebywE/apx7Wv6knpZy/yzk3ndsJA3hHRUjiSJ7TcDkOBH2ZU+AAjk8DtUE2shBI/OQ2thGfqcWv0aiWUeMSPdo9dt7Yn6nFrNLVZTfcCd6VKDS2EG+pha3XaVhcKPC1NslhNqUet2aIy8Jl61LpVfRFjie/w0xaDjr+EVXenA7Ev4aVRFeEf6ikbVeHaRUg9Y7O8hx8q7gW+9/3R6cGH+6I3wmvT0hV1JfCdb65Fye6mt6CerpWm/SLgWeRbClP+i2FrjAP5X4jKdArvdqq74KMLm2Cm8fyQuSg8mEXSDxLmfPdjeJ6durF76WzRORzVL3zi/lXFw7Hs6F6pCedP3fxzY19Sn+1Bcmz13YSS2H4xw+I7UA9i+gG45UXf0nieC7SzEV4bUmNM+XZX08pj+QWi17jrQpurFDKFhe8BIYSQTRBCCCF9EEIIIX3/l3ASBEGlq7+3duvLn6zlCNNbC6yEx+QSRiRHmF6YtxI6yTMkPAhpgxBCBSF5EEKoICQPQggVhORBCKGCkDwIIVQQkgchhApC8iCEUEFIHoQQKgjJgxBCBSF5EEKoICQPQggVhORBCKGCkDwIIVQQkgchhApC8iCEUEFIHoQQKgjJg1C+MPvbxt0UupknzHdTmP2ZgMZCnr8c5LYoZPqA4e9HIjQVjoglRX0/da+hcM32EcPR1w+NNxP2GD+H1g9aEG7YvoJp0XK/cpzCJ3/ER8c5mn5K4Cp8W62f+T8nejz3vPRVMAkHkedFz0XCsTvn+eDSgowrY7LA9AzJVCgt42uYLIBQTBBCyD8IIeQfhBDyD0II+QchhPyDEEL+QQgh/yCEkH8QQsg/CCHkH4QQ8g9CCPkHIYT8gxBC/kEIIf8ghJB/EELIPwgh5F/3hbEJkiwwCY8e9bg12hogk2TBzLBgxfiOvML2Bkh6c+irYcF+Sj1ujZ4MkPS2vexd319tqKetk5t3xOkdzON1fsmMeto6+XnI6Hp76DkvFHXf4a3c9rb7+FySA/K8//5h0+DOEX4t6d8tOErckyYt7iC3/eW9/Q/llI3ynAxjkrmH2R91A6hU9C0Jf6yJ/vdTNByR+9Fb04/1+0Xx3jvc7S3HhyC+LIjfzv94G/wLXAJUvGunoQMAAAAASUVORK5CYII=",p=n(4),g=n(22),O=Object(g.b)({name:"auth",initialState:{LoggedIn:!1,admin:!1,role:"",fullName:"",demo:!0,token:"",users:[],clients:[],email:"",user:{}},reducers:{signIn:function(e,t){var n=t.payload,a=n.fullName,r=n.admin,i=n.role,c=n.demo,s=n.token,o=n.login,l=n.email,u=n.user;e.fullName=a,e.LoggedIn=o,e.admin=r,e.role=i,e.demo=c,e.token=s,e.email=l,e.user=u},signOut:function(e){e.LoggedIn=!1,e.admin=!1,e.fullName="",localStorage.setItem("token",""),localStorage.setItem("admin",""),localStorage.setItem("name",""),window.location="/"},getAllUsers:function(e,t){return Object(u.a)(Object(u.a)({},e),{},{users:Object(p.a)(t.payload.users),clients:Object(p.a)(t.payload.clients)})}}}),f=O.reducer,x=O.actions,k=x.signIn,v=x.signOut,C=x.getAllUsers,y=function(e){void 0!==e&&(this._id=e._id,this.name=e.name,this.details=e.details,this.steps=e.steps,this.version=e.version,this.type=e.type,this.priority=e.priority,this.assigned=e.assigned,this.creator=e.creator,this.time=e.time)};function w(){var e=[];return e.push(new y({_id:0,name:"Bug Tracker",details:"Crashes after 3 seconds",steps:"Open app and it crashes",version:"V2.0",type:1,assigned:"Client 1",creator:"Arif Ash",priority:1,time:"23:38"})),e.push(new y({_id:1,name:" Personal Website",details:"Crashes after 5 seconds",steps:"Open app and it crashes",version:"V2.0",type:4,assigned:"Client 1",creator:"Arif Ash",priority:3,time:"23:38"})),e.push(new y({_id:2,name:" Project 5",details:" App malfunctions",steps:"Open app and it crashes",version:"V2.0",type:3,assigned:"Client 1",creator:"Arif Ash",priority:2,time:"22:00"})),e.push(new y({_id:3,name:"Sudoku App",details:" Not tracking tiles",steps:"Onclick doesn't work",version:"V2.0",type:2,assigned:"Client 1",creator:"Arif Ash",priority:2,time:"22:00"})),e.push(new y({_id:4,name:" Sorting visualizer",details:" Can not see merge sort",steps:"merge sort not dispalyed on screen",version:"V2.0",type:1,assigned:"Client 1",creator:"Arif Ash",priority:2,time:"22:00"})),e.push(new y({_id:5,name:" Pathfinder Visualizer",details:"Can not add nodes to grid",steps:"Click on empty grid but nothing happens",version:"V2.0",type:1,assigned:"Client 1",creator:"Arif Ash",priority:3,time:"22:00"})),e.push(new y({_id:6,name:" Sudoku Game and Solver",details:"Can not add nodes to grid",steps:"Click on empty grid but nothing happens",version:"V2.0",type:3,assigned:"Client 1",creator:"Arif Ash",priority:4,time:"22:00"})),e}var N=Object(g.b)({name:"bugs",initialState:{filteredBugs:[],bug:[],currBugToken:""},reducers:{setBugToken:function(e,t){e.currBugToken=t.payload},setBugsDemo:function(e){return Object(u.a)(Object(u.a)({},e),{},{bug:Object(p.a)(w())})},setBugs:function(e,t){return Object(u.a)(Object(u.a)({},e),{},{bug:Object(p.a)(t.payload.bugs)})},removeBug:function(e,t){var n=t.payload._id;return Object(u.a)(Object(u.a)({},e),{},{bug:Object(p.a)(e.bug.slice(0,n))})},getNewId:function(e,t){return Object(u.a)(Object(u.a)({},e),{},{bug:[].concat(Object(p.a)(e.bug),Object(p.a)(t.payload))})},filter:function(e,t){return Object(u.a)(Object(u.a)({},e),{},{filteredBugs:Object(p.a)(t.payload)})},createBugs:function(e,t){return Object(u.a)(Object(u.a)({},e),{},{bug:[].concat(Object(p.a)(e.bug),Object(p.a)(t.payload))})},updateBug:function(e,t){var n=t.payload._id;return Object(u.a)(Object(u.a)({},e),{},{bug:[].concat(Object(p.a)(e.bug.slice(0,n)),[t.payload],Object(p.a)(e.bug.slice(n+1)))})},markComplete:function(e,t){var n=t.payload._id;return t.payload.priority=4,Object(u.a)(Object(u.a)({},e),{},{bug:[].concat(Object(p.a)(e.bug.slice(0,n)),[t.payload],Object(p.a)(e.bug.slice(n+1)))})}}}),A=N.reducer,B=N.actions,S=B.setBugToken,I=B.setBugs,E=B.setBugsDemo,D=B.removeBug,F=B.filter,U=B.createBugs,P=B.updateBug,R=B.markComplete,L=B.getNewId,q=(n(120),n(0)),Q=function(){var e=Object(h.b)(),t=Object(a.useState)(!0),n=Object(d.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)({admin:!1,name:"",password:""}),j=Object(d.a)(c,2),p=j[0],g=j[1];function O(e){g(Object(u.a)(Object(u.a)({},p),{},Object(l.a)({},e.target.name,e.target.value)))}function f(){return(f=Object(o.a)(s.a.mark((function t(n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a={email:p.name,password:p.password},t.next=4,b.a.post("https://bug-tracker-arif.herokuapp.com/app/signIn",a).then((function(t){var n=t.data;if(!0===n.success){var a="";a="Admin"===n.user.role,e(k({fullName:n.user.fullName,user:n.user,admin:a,token:n.token,email:n.user.email})),localStorage.setItem("token",n.token),localStorage.setItem("user",n.user),localStorage.setItem("email",n.user.email),localStorage.setItem("admin",JSON.stringify(a)),localStorage.setItem("name",n.user.fullName),b.a.get("https://bug-tracker-arif.herokuapp.com/app/verify?token="+n.token).then((function(e){console.log(e)})),window.location.href=window.location.href}else alert(t.data.message)}));case 4:return t.abrupt("return",!1);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(){i(!r)}return Object(q.jsxs)("div",{className:"loginBG",children:[r&&Object(q.jsxs)("form",{className:"login-panel",children:[Object(q.jsx)("h1",{children:"Bug Tracker"}),Object(q.jsx)("input",{label:!0,name:"name",placeholder:"Email",onChange:O,value:p.name}),Object(q.jsx)("br",{}),Object(q.jsx)("input",{name:"password",type:"password",placeholder:"Password",onChange:O,value:p.password}),Object(q.jsx)("br",{}),Object(q.jsx)("button",{type:"submit",onClick:function(e){return f.apply(this,arguments)},children:"Login"}),Object(q.jsxs)("p",{children:["Sign in as a ",Object(q.jsx)("a",{href:"#",onClick:x,children:" Demo User"})]})]}),!r&&Object(q.jsxs)("form",{className:"login-panel",children:[Object(q.jsx)("h1",{children:"Demo Users"}),Object(q.jsx)("input",{label:!0,name:"name",placeholder:"Enter name",required:!0,onChange:O,value:p.name}),Object(q.jsx)("br",{}),Object(q.jsxs)("div",{className:"DemoUsers",children:[Object(q.jsxs)("div",{className:"demo",style:{borderRight:"1px groove black"},onClick:function(t){t.preventDefault(),p.name?(e(E()),e(k({fullName:p.name,admin:!0,demo:!0,login:!0}))):alert("Name cannot be blank")},children:[Object(q.jsx)("img",{style:{width:"30%",height:"50%"},src:m,name:"saveForm",alt:"cannot display"}),Object(q.jsx)("h3",{children:"Demo Admin"})]}),Object(q.jsxs)("div",{className:"demo",onClick:function(t){t.preventDefault(),p.name?(e(E()),e(k({fullName:p.name,admin:!1,demo:!0,login:!0}))):alert("Name cannot be blank")},children:[Object(q.jsx)("img",{style:{width:"30%",height:"50%"},src:m,name:"saveForm",alt:"cannot display"}),Object(q.jsx)("h3",{children:"Demo Client"})]})]}),Object(q.jsxs)("p",{children:["Back to ",Object(q.jsx)("a",{href:"#",onClick:x,children:" Login Page"})]})]})]})},T=(n(122),function(e){var t=e.bug,n=t.name,a=t.priority,r=t.type,i=Object(h.b)(),c=function(e,t){var n=e-1;return{level:["High","Medium","Low","Complete"][n],color:["#a30000","#ff0606","#FFA500","#00FF00"][n],ticket:["Bug/Error","Feature Request","Other Comments","Training/Document Request"][t-1]}}(a,r),s=c.level,o=c.color,l=c.ticket;return Object(q.jsx)("div",{className:"container",children:Object(q.jsxs)("div",{className:"bug-card",onClick:function(){var t=e.bug._id;i(S(t)),e.clicked(e.name)},children:[Object(q.jsx)("h2",{className:"name",style:{backgroundColor:"#FFFFFF",color:o},children:s}),Object(q.jsxs)("h2",{className:"priority",children:[" ",n]}),Object(q.jsx)("h4",{className:"type",children:l})]})})}),V=(n(123),function(e){return Object(q.jsxs)("div",{className:"view-section",children:[Object(q.jsx)("h2",{children:e.title}),Object(q.jsx)("p",{children:e.info})]})}),z=(n(124),n(125),function(e){return Object(q.jsxs)("div",{className:"edit-panel",children:[Object(q.jsx)("button",{className:"delete",onClick:e.deleteClicked,children:"Delete"}),Object(q.jsx)("button",{className:"edit",onClick:e.editClicked,children:"Edit"})]})}),H=(n(126),function(e){var t=Object(a.useState)(new y(e.bug)),n=Object(d.a)(t,2),r=n[0],i=n[1],c=Object(h.c)((function(e){return e})),j=c.auth,m=c.bugs,p=Object(h.b)(),g=Object(a.useState)({isClicked:!1,display:!1}),O=Object(d.a)(g,2),f=O[0],x=O[1];function k(e){x({isClicked:!1,display:!1}),i(Object(u.a)(Object(u.a)({},r),{},Object(l.a)({},e.target.name,e.target.value)))}function v(){return(v=Object(o.a)(s.a.mark((function t(n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),r.priority>3&&(r.priority=1),r.name&&r.steps&&r.version&&r.details){t.next=6;break}x({isClicked:!0,display:!1}),t.next=33;break;case 6:if(i(Object(u.a)(Object(u.a)({},r),{},{creator:j.fullName})),"Edit Bug"!==e.title||!j.demo){t.next=12;break}p(P(r)),alert("Ticket updated"),t.next=33;break;case 12:if("Edit Bug"!==e.title||j.demo){t.next=21;break}return a=j.clients.map((function(e){return e.fullName})),1!==parseInt(r.assigned)&&a.includes(r.assigned)||(console.log("here"),r.assigned=j.clients[0].fullName),t.next=17,b.a.post("https://bug-tracker-arif.herokuapp.com/app/update?token="+m.currBugToken,r).then((function(e){alert(e.data.message)}));case 17:return window.location.href=window.location.href,t.abrupt("return",!1);case 21:if("Create Bug"!==e.title||j.demo){t.next=31;break}return 1===parseInt(r.assigned)&&(r.assigned=j.clients[0].fullName),console.log(r.assigned),x({isClicked:!0,display:!0}),t.next=27,b.a.post("https://bug-tracker-arif.herokuapp.com/app/createBug",r).then((function(e){var t=e.data;console.log(t)}));case 27:return window.location.href=window.location.href,t.abrupt("return",!1);case 31:x({isClicked:!0,display:!0}),p(U([r]));case 33:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(q.jsx)("div",{className:"page-container",children:Object(q.jsxs)("div",{className:"bug-create",children:["Edit Bug"===e.title&&Object(q.jsx)("button",{onClick:e.close,className:"close-btn","aria-label":"Close alert",children:Object(q.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),Object(q.jsx)("h1",{children:e.title}),Object(q.jsxs)("form",{children:[Object(q.jsx)("label",{children:"Name:"}),Object(q.jsx)("input",{name:"name",placeholder:"Bug Name",required:!0,onChange:k,value:r.name}),Object(q.jsx)("label",{children:"Details:"}),Object(q.jsx)("textarea",{name:"details",placeholder:"Detailed description on the bug",required:!0,onChange:k,value:r.details}),Object(q.jsx)("label",{children:"Steps:"}),Object(q.jsx)("textarea",{name:"steps",placeholder:"Steps to recreate the bug",required:!0,onChange:k,value:r.steps}),Object(q.jsx)("label",{children:"Priority:"}),Object(q.jsxs)("select",{name:"priority",required:!0,onChange:k,value:r.priority,children:[Object(q.jsx)("option",{value:"1",children:"High"}),Object(q.jsx)("option",{value:"2",children:"Medium"}),Object(q.jsx)("option",{value:"3",children:"Low"})]}),Object(q.jsx)("label",{children:"Type:"}),Object(q.jsxs)("select",{name:"type",required:!0,onChange:k,value:r.type,children:[Object(q.jsx)("option",{value:"1",children:"Bugs/Error"}),Object(q.jsx)("option",{value:"2",children:"Feature Requests"}),Object(q.jsx)("option",{value:"3",children:"Other Comments"}),Object(q.jsx)("option",{value:"4",children:"Training/Document Requests"})]}),Object(q.jsx)("label",{children:"Assigned:"}),Object(q.jsx)("select",{name:"assigned",required:!0,onChange:k,value:r.assigned,children:!j.demo&&j.clients.map((function(e){return Object(q.jsx)("option",{children:e.fullName})}))}),Object(q.jsx)("label",{children:"Application Version:"}),Object(q.jsx)("input",{name:"version",placeholder:"Application Version",onChange:k,value:r.version}),Object(q.jsx)("button",{type:"submit",onClick:function(e){return v.apply(this,arguments)},children:e.title})]}),f.isClicked&&f.display&&alert("Ticket Created")&&x({isClicked:!1,display:!1}),f.isClicked&&!f.display&&alert("Please fill in all fields")&&x({isClicked:!1,display:!1})]})})}),J=function(e){var t=Object(h.b)(),n=Object(h.c)((function(e){return e})),r=n.auth,i=n.bugs,c=new y(e.bug),s=Object(a.useState)(!1),o=Object(d.a)(s,2),l=o[0],u=o[1];return Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)("div",{className:"bug-view",children:[l&&Object(q.jsx)(H,{title:"Edit Bug",bug:c,close:e.clicked}),!l&&Object(q.jsxs)(q.Fragment,{children:[r.admin&&Object(q.jsx)(z,{editClicked:function(){u(!l)},deleteClicked:function(){if(r.demo){for(var e=c._id+1,n=[];e<i.bug.length;){var a=Object.assign({},i.bug[e]);a._id=e-1,n.push(a),e++}return t(D(c)),void t(L(n))}b.a.post("https://bug-tracker-arif.herokuapp.com/app/delete?token="+i.currBugToken).then((function(e){alert(e.data.message)})),window.location.href=window.location.href}}),Object(q.jsx)("button",{onClick:e.clicked,className:"close-btn","aria-label":"Close alert",children:Object(q.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),Object(q.jsx)("h1",{children:c.name}),Object(q.jsx)(V,{title:"Details",info:c.details}),Object(q.jsx)(V,{title:"Steps",info:c.steps}),Object(q.jsx)(V,{title:"Priority",info:["High","Medium","Low","Completed"][c.priority-1]}),Object(q.jsx)(V,{title:"Creator",info:c.creator}),Object(q.jsx)(V,{title:"App Version",info:c.version}),Object(q.jsx)(V,{title:"Bug type",info:["Bugs/Error","Feature Requests","Other Comments","Training/Document Requests"][c.type-1]}),Object(q.jsx)(V,{title:"Time Created",info:c.time}),4!==parseInt(c.priority)&&Object(q.jsx)("button",{className:"markComplete",onClick:function(){r.demo?t(R(c)):(c.priority=4,b.a.post("https://bug-tracker-arif.herokuapp.com/app/update?token="+i.currBugToken,c).then((function(e){alert(e.data.message)})),window.location.href=window.location.href)},children:"Mark Complete \u2714"})]})]})})},M=(n(127),function(){var e=Object(h.c)((function(e){return e})).bugs,t=Object(h.b)();function n(e){o({priority:e})}function r(e){o({isDisplayed:!s.isDisplayed,name:e,priority:s.priority,searched:s.searched})}var i=Object(a.useState)({name:"",isDisplayed:!1,search:!1,priority:0}),c=Object(d.a)(i,2),s=c[0],o=c[1];return window.onclick=function(e){if(!e.target.matches(".dropbtn")){var t,n=document.getElementsByClassName("dropdown-content");for(t=0;t<n.length;t++){var a=n[t];a.classList.contains("show")&&a.classList.remove("show")}}},Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)("div",{className:"Search",children:[Object(q.jsx)("input",{type:"text",id:"search",onClick:function(){document.getElementById("search").addEventListener("keyup",(function(n){var a=n.target.value,r=e.bug.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())}));t(F(r)),o({searched:!0,priority:s.priority,name:s.name,isDisplayed:s.isDisplayed})}))},placeholder:"Search tickets.."}),Object(q.jsxs)("div",{className:"dropdown",children:[Object(q.jsx)("button",{onClick:function(){document.getElementById("myDropdown").classList.toggle("show")},className:"dropbtn",children:"Filter"}),Object(q.jsxs)("div",{id:"myDropdown",class:"dropdown-content",children:[Object(q.jsx)("a",{onClick:function(){return n(0)},children:"Remove filter"}),Object(q.jsx)("a",{onClick:function(){return n(1)},children:"High"}),Object(q.jsx)("a",{onClick:function(){return n(2)},children:"Medium"}),Object(q.jsx)("a",{onClick:function(){return n(3)},children:"Low"}),Object(q.jsx)("a",{onClick:function(){return n(4)},children:"Completed"})]})]})]}),Object(q.jsxs)("div",{className:"page-container",style:{width:"78%"},children:[0!==e.filteredBugs.length||s.searched?e.filteredBugs.map((function(e,t){return(0===s.priority||s.priority===Number(e.priority))&&Object(q.jsx)(T,{bug:e,clicked:function(){return r(e.name)}},t)})):e.bug.map((function(e,t){return(0===s.priority||s.priority===Number(e.priority))&&Object(q.jsx)(T,{bug:e,clicked:function(){return r(e.name)}},t)})),s.isDisplayed&&Object(q.jsx)(J,{style:{marginTop:"10%"},clicked:r,bug:e.bug.filter((function(e){return e.name==s.name}))[0]})]})]})}),X=n(20),_=n(9),G=n(43),K=function(){var e=Object(h.c)((function(e){return e})).bugs,t=0,n=0,a=0,r=0;function i(t){return e.bug.filter((function(e){return e.priority===t}))}void 0!==e.bug&&(t=i(1).length+i("1").length,n=i(2).length+i("2").length,a=i(3).length+i("3").length,r=i(4).length+i("4").length);var c={labels:["High","Medium","Low","Completed"],datasets:[{data:[t,n,a,r],backgroundColor:["#410000","#a30000","#ff0606","#00FF00"],borderColor:"rgba(75,192,192,1)"}]};return Object(q.jsx)("div",{style:{backgroundColor:"#b5b3b1"},children:Object(q.jsx)(G.a,{data:c,height:350,width:520,options:{maintainAspectRatio:!1,plugins:{title:{display:!0,fontSize:50,position:"top"},legend:{display:!1}}}})})},W=function(){var e=Object(h.c)((function(e){return e})).bugs,t=0,n=0,a=0,r=0;function i(t){return e.bug.filter((function(e){return e.type===t}))}void 0!==e.bug&&(t=i(1).length+i("1").length,n=i(2).length+i("2").length,a=i(3).length+i("3").length,r=i(4).length+i("4").length);var c={labels:["Bug/Error","Feature Request","Other Comments","Training/Document Request"],datasets:[{label:"Priority",data:[t,n,a,r],backgroundColor:["#b33a3a","#FFA500","#32cd32","#04009A"]}]};return Object(q.jsx)("div",{style:{backgroundColor:"#b5b3b1"},children:Object(q.jsx)(G.b,{data:c,height:350,width:520,options:{maintainAspectRatio:!1,plugins:{title:{display:"true",position:"top",fontSize:60},legend:{display:!0,position:"bottom"}}}})})},Y=(n(233),function(){var e=Object(_.f)();function t(){e.push("/viewbugs")}return Object(q.jsxs)("div",{className:"dash-container",children:[Object(q.jsxs)("div",{className:"chart",onClick:t,children:[Object(q.jsx)(K,{onClick:t}),Object(q.jsx)("h3",{children:"Tickets by Priority"})]}),Object(q.jsxs)("div",{className:"chart",onClick:t,children:[Object(q.jsx)(W,{onClick:t}),Object(q.jsx)("h3",{children:"Tickets by type"})]})]})}),Z=(n(235),function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e})).auth;return Object(q.jsxs)("div",{className:"sidebar",children:[Object(q.jsxs)(X.b,{className:"nav-link",to:"/",children:[Object(q.jsx)("h1",{style:{marginBottom:"0"},className:"brand",children:"Welcome "})," "]}),Object(q.jsx)("h1",{className:"userName",children:t.fullName}),Object(q.jsxs)("ul",{children:[Object(q.jsx)(X.b,{to:"/",className:"nav-link",children:Object(q.jsx)("li",{children:"Dashboard"})}),Object(q.jsx)(X.b,{to:"/viewbugs",className:"nav-link",children:Object(q.jsx)("li",{children:"View Bugs"})}),t.admin&&Object(q.jsx)(X.b,{to:"/create",className:"nav-link",children:Object(q.jsx)("li",{children:"Create Bugs"})}),t.admin&&Object(q.jsx)(X.b,{to:"/manageUsers",className:"nav-link",children:Object(q.jsx)("li",{children:"Manage Users"})})]}),Object(q.jsx)("button",{className:"nav-link logout",onClick:function(){t.demo?e(v()):b.a.get("https://bug-tracker-arif.herokuapp.com/app/logout?token="+t.token).then((function(t){var n=t.data;console.log(n),e(v()),localStorage.setItem("token","")}))},children:"Logout"})]})}),$=(n(236),function(){var e,t=Object(h.c)((function(e){return e})).auth,n=Object(a.useState)(!1),r=Object(d.a)(n,2),i=r[0],c=r[1],j=Object(a.useState)(!1),m=Object(d.a)(j,2),p=m[0],g=m[1],O=Object(a.useState)({email:t.email,currPass:"",newPass:""}),f=Object(d.a)(O,2),x=f[0],k=f[1],v=Object(a.useRef)(null);function C(e){k(Object(u.a)(Object(u.a)({},x),{},Object(l.a)({},e.target.name,e.target.value)))}function y(){return(y=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,b.a.post("https://bug-tracker-arif.herokuapp.com/app/changePassword",x).then((function(e){if(alert(e.data.message),e.data.success)return window.location.href=window.location.href,!1}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return e=v,Object(a.useEffect)((function(){function t(t){e.current&&!e.current.contains(t.target)&&(c(!1),g(!1))}return document.addEventListener("mousedown",t),function(){document.removeEventListener("mousedown",t)}}),[e]),Object(q.jsxs)("div",{ref:v,children:[Object(q.jsxs)("div",{className:"topbar",children:[t.admin&&t.demo&&Object(q.jsx)("h3",{children:"Logged in as: Demo Admin"}),!t.admin&&t.demo&&Object(q.jsx)("h3",{children:"Logged in as: Demo Client"}),t.admin&&!t.demo&&Object(q.jsx)("h3",{children:"Logged in as: Admin"}),!t.admin&&!t.demo&&Object(q.jsx)("h3",{children:"Logged in as: Client"}),Object(q.jsx)("button",{onClick:function(){c(!i),g(!1)},children:"User Profile"})]}),i&&!p&&Object(q.jsx)("div",{className:"menu",children:Object(q.jsx)("a",{onClick:function(e){t.demo?alert("Cannot edit demo profile"):g(!0)},children:"Change Password"})}),p&&i&&Object(q.jsx)("div",{children:Object(q.jsxs)("form",{className:"changePassword",children:[Object(q.jsx)("input",{type:"password",name:"currPass",placeholder:"Current Password",required:!0,onChange:C,value:x.currPass}),Object(q.jsx)("input",{type:"password",name:"newPass",placeholder:"New Password",required:!0,onChange:C,value:x.newPass}),Object(q.jsx)("button",{type:"submit",onClick:function(e){return y.apply(this,arguments)},children:"Change Password"})]})})]})}),ee=function(e){void 0!==e&&(this.fullName=e.fullName,this.userName=e.userName,this.password=e.password,this.email=e.email,this.role=e.role)};n(237),n(238);var te=function(e){var t=Object(a.useState)({_id:"",fullName:"",userName:"",email:"",role:"Admin"}),n=Object(d.a)(t,2),r=n[0],i=n[1],c=Object(h.c)((function(e){return e})).auth,l=Object(a.useState)({display:!1}),u=Object(d.a)(l,2),j=u[0],m=u[1];function p(){return(p=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("https://bug-tracker-arif.herokuapp.com/app/deleteUser?token="+t._id).then((function(e){alert(e.data.message)})).catch((function(e){return console.log(e)}));case 2:return window.location.href=window.location.href,e.abrupt("return",!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(q.jsx)("div",{children:j.display?Object(q.jsx)(ne,{close:function(){m({display:!1})},user:r}):Object(q.jsxs)("div",{className:"table",children:[Object(q.jsx)("h1",{style:{textAlign:"center"},children:"All Users"}),Object(q.jsxs)("table",{id:"table",children:[Object(q.jsx)("thead",{children:Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{children:"No"}),Object(q.jsx)("th",{children:"Fullname"}),Object(q.jsx)("th",{children:"Username"}),Object(q.jsx)("th",{children:"Email"}),Object(q.jsx)("th",{children:"Role"}),Object(q.jsx)("th",{children:"Actions"})]})}),Object(q.jsx)("tbody",{children:c.users.map((function(e,t){return Object(q.jsxs)("tr",{className:"userData",children:[Object(q.jsx)("td",{children:t+1}),Object(q.jsx)("td",{children:e.fullName}),Object(q.jsx)("td",{children:e.userName}),Object(q.jsx)("td",{children:e.email}),Object(q.jsx)("td",{children:e.role}),Object(q.jsxs)("td",{children:[Object(q.jsx)("button",{onClick:function(){return function(e){i({_id:e._id,fullName:e.fullName,userName:e.userName,email:e.email,role:"Admin"}),m({display:!0})}(e)},style:{padding:"5px 10px",font:"15px thin"},className:"edit",children:"Edit User"}),c.email!==e.email&&Object(q.jsx)("button",{onClick:function(){return function(e){return p.apply(this,arguments)}(e)},style:{padding:"5px 10px",font:"15px thin"},className:"delete",children:"Delete User"})]})]})}))})]}),Object(q.jsx)("button",{onClick:e.back,children:"\u2b05 Back"})]})})},ne=function(e){var t=Object(a.useState)(new ee(e.user)),n=Object(d.a)(t,2),r=n[0],i=n[1],c=Object(h.c)((function(e){return e})).auth,j=Object(a.useState)(!1),m=Object(d.a)(j,2),p=m[0],g=m[1];function O(e){i(Object(u.a)(Object(u.a)({},r),{},Object(l.a)({},e.target.name,e.target.value)))}function f(){return(f=Object(o.a)(s.a.mark((function t(n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!c.demo){t.next=4;break}return alert("Cannot create user using demo"),t.abrupt("return",!1);case 4:if(e.user._id){t.next=10;break}return a={fullName:r.fullName,userName:r.userName,email:r.email,password:r.password,role:r.role},t.next=8,b.a.post("https://bug-tracker-arif.herokuapp.com/app/signUp",a).then((function(e){alert(e.data.message),e.data.success&&(window.location.href=window.location.href)})).catch((function(e){console.log(e)}));case 8:t.next=12;break;case 10:return t.next=12,b.a.post("https://bug-tracker-arif.herokuapp.com/app/updateUser?token="+e.user._id,r).then((function(e){if(alert(e.data.message),e.data.success)return window.location.href=window.location.href,!1})).catch((function(e){console.log(e)}));case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(q.jsx)("div",{className:"page-container",children:p?Object(q.jsx)(te,{back:function(e){e.preventDefault(),g(!1)}}):Object(q.jsxs)("div",{className:"bug-create",children:[e.user._id?Object(q.jsx)("h1",{children:"Edit User"}):Object(q.jsx)("h1",{children:"Create New User"}),e.user._id&&Object(q.jsxs)("button",{onClick:e.close,className:"close-btn","aria-label":"Close alert",children:[Object(q.jsx)("span",{"aria-hidden":"true",children:"\xd7"})," "]}),Object(q.jsxs)("form",{children:[Object(q.jsx)("label",{children:"Full Name: "}),Object(q.jsx)("input",{name:"fullName",placeholder:"Full Name",value:r.fullName,required:!0,onChange:O,className:"form-control form-group"}),Object(q.jsx)("label",{children:"Username: "}),Object(q.jsx)("input",{name:"userName",placeholder:"Username",value:r.userName,required:!0,onChange:O,className:"form-control form-group"}),c.email!==e.user.email&&Object(q.jsx)("label",{children:"Email: "}),c.email!==e.user.email&&Object(q.jsx)("input",{name:"email",placeholder:"Email",value:r.email,required:!0,onChange:O,className:"form-control form-group"}),!e.user._id&&Object(q.jsx)("label",{children:"Password: "}),!e.user._id&&Object(q.jsx)("input",{name:"password",type:"password",placeholder:"Password",value:r.password,required:!0,onChange:O,className:"form-control form-group"}),c.email!==e.user.email&&Object(q.jsx)("label",{children:"Role: "}),c.email!==e.user.email&&Object(q.jsxs)("select",{name:"role",value:r.admin,required:!0,onChange:O,children:[Object(q.jsx)("option",{children:"Admin"}),Object(q.jsx)("option",{children:"Client"})]}),Object(q.jsx)("button",{type:"sumbit",className:"",onClick:function(e){return f.apply(this,arguments)},children:e.user._id?"Edit User":"Create New User"})]}),!e.user._id&&Object(q.jsx)("button",{onClick:function(e){if(e.preventDefault(),c.demo)return alert("Cannot manage users using demo"),!1;g(!0)},children:"Manage Users"})]})})};var ae=function(){var e=Object(h.c)((function(e){return e})),t=e.auth,n=e.bugs,r=Object(h.b)(),i=localStorage.getItem("token");Object(a.useEffect)((function(){i&&(r(k({login:!0,admin:JSON.parse(localStorage.getItem("admin")),demo:!1,fullName:localStorage.getItem("name"),token:i,user:localStorage.getItem("user"),email:localStorage.getItem("email")})),JSON.parse(localStorage.getItem("admin"))?b.a.get("https://bug-tracker-arif.herokuapp.com/app/getBugs").then((function(e){var t=e.data;r(I({bugs:t.bugs}))})):b.a.get("https://bug-tracker-arif.herokuapp.com/app/getSpecificBugs?name="+localStorage.getItem("name")).then((function(e){var t=e.data;r(I({bugs:t.bugs}))})),b.a.get("https://bug-tracker-arif.herokuapp.com/app/users").then((function(e){var t=e.data.users,n=t.filter((function(e){return"Client"===e.role}));r(C({users:t,clients:n}))})))}),[]);var c={_id:n.bug.length,priority:1,type:1,assigned:1,creator:t.fullName};return Object(q.jsx)(X.a,{children:t.LoggedIn?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)($,{}),Object(q.jsx)(Z,{}),Object(q.jsx)("div",{className:"Page",children:Object(q.jsxs)(_.c,{children:[Object(q.jsx)(_.a,{path:"/",exact:!0,children:Object(q.jsx)(Y,{})}),Object(q.jsx)(_.a,{path:"/viewbugs",children:Object(q.jsx)(M,{})}),Object(q.jsx)(_.a,{path:"/create",children:Object(q.jsx)("div",{className:"page-container",children:Object(q.jsx)(H,{bug:c,title:"Create Bug"})})}),Object(q.jsx)(_.a,{path:"/manageUsers",children:Object(q.jsx)("div",{className:"page-conatiner",children:Object(q.jsx)(ne,{user:{role:"Admin"}})})})]})})]}):Object(q.jsx)(Q,{})})},re=n(21),ie=Object(g.b)({name:"user",initialState:[{}],reducers:{getUser:function(e){e.push({name:"Ryan beasley"}),e.push({name:"John Smith"})}}}),ce=ie.reducer,se=(ie.actions.getUser,Object(re.b)({auth:f,bugs:A,user:ce})),oe=Object(g.a)({reducer:se});i.a.render(Object(q.jsx)(h.a,{store:oe,children:Object(q.jsx)(ae,{})}),document.getElementById("root"))},97:function(e,t,n){}},[[239,1,2]]]);
//# sourceMappingURL=main.02206662.chunk.js.map